# 3강

## 명령어 Tab 키로 자동완성 하도록 설정하기. - 맥북

```
# 1) kubectl completion brew install
brew install zsh-completions

# 2) vi ~/.zshrc 아래 내용 붙여넣기.
# zsh-completions 경로 설정 (brew 설치 기준)
fpath=(/opt/homebrew/share/zsh-completions $fpath)

# 자동완성 초기화
autoload -Uz compinit
compinit

# kubectl auto complete
source <(kubectl completion zsh)
alias k=kubectl
compdef k=kubectl

# 3) 설정 적용
source ~/.zshrc
```

## <br>

## kubectl 명령어

기본구조 `kubectl [command] [TYPE] [NAME] [flags]` 

- command: 자원(object)에 실행할 명령(create, get, delete, edit)
- TYPE: 자원의 타입(node, pod, service)
- NAME: 자원의 이름
- flags: 부가 옵션

<br>

- `kubectl run` : 컨테이너 파드를 만드는 명령어.
    - `kubectl run webserver --image=nginx:1.14 --port 80`
- `kubectl create` : k8s object 생성
    - `kubectl create deployment mainui --image=httpd --replicas=3` 
        - httpd 뒤에 `:version` 명시 안하면 latest 버전으로 설치함.

- `-o wide` : 자세하게.
- `kubectl describe` : 더 자세한 설명
    - `kubectl describe deployments.apps mainui` 
- `kubectl exec` : 웹 서버 접속
    - `kubectl exec webserver -it — /bin/bash` 
- `deployment` : 5장 가서 배우자.
- `kubectl port-forward` : 포트 포워딩. 
    - `kubectl port-forward webserver 8080:80` 
- `kubectl edit` : 실행 중인 object 편집 가능.
    - `kubectl edit deployments.apps mainui` 
- `--dry-run` : 실행 가능 여부 확인.
- `-o yaml` , `-o json` : 상세 정볼르 각 파일 형식으로 보는 것 가능.

### <br>

### 주의 사항!

minikube 는 vm 에 띄우는 것이므로 맥북 로컬에서 curl로 접속 불가함. 나중에 ingress 띄워야함.